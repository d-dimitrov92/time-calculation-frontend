<div class="col-sm-1"></div>
<div class="col-sm-10" *ngIf="!isLoading">
  <mat-expansion-panel expanded>
    <mat-expansion-panel-header>
      <mat-panel-title>Списък с всички задачи</mat-panel-title>
    </mat-expansion-panel-header>
    <mat-expansion-panel *ngFor="let model of models">
      <mat-expansion-panel-header>
        <mat-panel-title> {{ model }} </mat-panel-title>
        <mat-panel-description>
          All tasks of {{ model }} units
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div [ngSwitch]="model">
        <div *ngSwitchCase="'RF100'">
          <mat-expansion-panel *ngFor="let block of rf100Blocks">
            <mat-expansion-panel-header>
              {{ block }}
            </mat-expansion-panel-header>
            <ul class="list-group">
              <div *ngFor="let task of rf100Tasks" #taskNameItem>
                <li class="list-group-item" *ngIf="task.partOf == block">
                  {{ task.taskName }}

                  <div class="controls">
                    <a class="btn btn-warning btn-sm" (click)="onEdit(task._id)"
                      >Редакция</a
                    >
                    <a
                      class="btn btn-danger btn-sm"
                      (click)="onDelete(task._id)"
                      >Изтриване</a
                    >
                  </div>
                </li>
              </div>
            </ul>
          </mat-expansion-panel>
        </div>
        <div *ngSwitchCase="'1E'">
          <mat-expansion-panel *ngFor="let block of oneEBlocks">
            <mat-expansion-panel-header>
              {{ block }}
            </mat-expansion-panel-header>
            <ul class="list-group">
              <div *ngFor="let task of oneETasks" #taskNameItem>
                <li class="list-group-item" *ngIf="task.partOf == block">
                  {{ task.taskName }}

                  <div class="controls">
                    <a class="btn btn-warning btn-sm" (click)="onEdit(task._id)"
                      >Редакция</a
                    >
                    <a
                      class="btn btn-danger btn-sm"
                      (click)="onDelete(task._id)"
                      >Изтриване</a
                    >
                  </div>
                </li>
              </div>
            </ul>
          </mat-expansion-panel>
        </div>
        <div *ngSwitchCase="'hARTT'">
          <mat-expansion-panel *ngFor="let block of harttBlocks">
            <mat-expansion-panel-header>
              {{ block }}
            </mat-expansion-panel-header>
            <ul class="list-group">
              <div *ngFor="let task of harttTasks" #taskNameItem>
                <li class="list-group-item" *ngIf="task.partOf == block">
                  {{ task.taskName }}

                  <div class="controls">
                    <a class="btn btn-warning btn-sm" (click)="onEdit(task._id)"
                      >Редакция</a
                    >
                    <a
                      class="btn btn-danger btn-sm"
                      (click)="onDelete(task._id)"
                      >Изтриване</a
                    >
                  </div>
                </li>
              </div>
            </ul>
          </mat-expansion-panel>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-expansion-panel>
</div>
<div class="col-sm-10" *ngIf="isLoading">
  <mat-spinner></mat-spinner>
</div>
<div class="col-sm-1"></div>
